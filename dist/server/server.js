(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("http");var r=e.n(t);const o=require("body-parser");var n=e.n(o);const s=require("dotenv");var c=e.n(s);const i=require("express");var a=e.n(i);const p=require("path");var u=e.n(p),l=a().Router(),d="src/app";l.route("/").get((function(e,t){t.sendFile(u().join(process.cwd(),d,"perspectives.html"))})),l.route("/towers").get((function(e,t){t.sendFile(u().join(process.cwd(),d,"towers.html"))}));const f=l;c().config();var v="dist/public",h=a()();h.use(n().json()),h.use(n().urlencoded({extended:!1})),h.use(a().static(u().join(process.cwd(),v))),h.use("/",f),h.use((function(e,t,r){t.status(404),e.accepts("html")?t.type("text/html").sendFile(u().join(process.cwd(),"".concat(v,"/errors/404.html"))):e.accepts("json")?t.type("application/json").send({error:"404 Not found"}):(t.type("text/plain").send("404: This isn't the page you're looking for."),r())})),h.use((function(e,t,r,o){r.status(500),t.accepts("html")?r.type("text/html").sendFile(u().join(process.cwd(),"".concat(v,"/errorpage.html"))):t.accepts("json")?r.type("application/json").send({error:"500 Internal Server Error",data:e}):(r.type("text/plain").send("500: Internal Server Error"),o())}));const j=h;var g=r().createServer(j),w=function(){return process.stdout.write("HTTP server listening on port 5260")};g.on("listening",(function(){console.log("sdfi"),w()})),g.on("error",(function(e){console.log("fjoi"),process.stdout.write("ERR@".concat((new Date).toString().replace(/T/,":").replace(/\.\w*/,"")),e)})),process.on("SIGINT",(function(){process.exit()})),j.listen(5260),w()})();